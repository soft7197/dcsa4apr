### Fixed Method 1
public boolean useForType(JavaType t) {
    switch (_appliesFor) {
        case NON_CONCRETE_AND_ARRAYS:
            while (t.isArrayType()) {
                t = t.getContentType();
            }
            // Fall through is intended
        case OBJECT_AND_NON_CONCRETE:
            return (t.getRawClass() == Object.class)
                    || (!t.isConcrete()
                        // Should not apply to JSON tree models
                        && !TreeNode.class.isAssignableFrom(t.getRawClass()));
        case NON_FINAL:
            while (t.isArrayType()) {
                t = t.getContentType();
            }
            // Exclude JSON tree models from application
            return !t.isFinal() && !TreeNode.class.isAssignableFrom(t.getRawClass());
        default:
            return (t.getRawClass() == Object.class);
    }
}
